{% extends '_base.html' %}

{% block content %}
<div class="container mt-4">
    <h2>Pagamentos</h2>
    <a href="{% url 'pagamento_create' %}" class="btn btn-success mb-3">Novo Pagamento</a>
    <table class="table table-striped table-hover">
        <thead class="table-light">
            <tr>
                <th>Funcionário</th>
                <th>Data</th>
                <th>Salário</th>
                <th>Vale</th>
                <th>Bônus</th>
                <th>Total</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            {% for pagamento in pagamentos %}
            <tr>
                <td>{{ pagamento.funcionario.nome }}</td>
                <td>{{ pagamento.data_pagamento|date:"d \d\e F \d\e Y" }}</td>
                <td>R$ {{ pagamento.funcionario.salario|floatformat:2 }}</td>
                <td>R$ {{ pagamento.vale_desconto|floatformat:2 }}</td>
                <td>R$ {{ pagamento.bonus_comissao|floatformat:2 }}</td>
                <td><strong>R$ {{ pagamento.total_calculado|floatformat:2 }}</strong></td>
                <td>
                    <a href="{% url 'pagamento_update' pagamento.pk %}" class="btn btn-primary btn-sm">Editar</a>
                    <a href="{% url 'pagamento_delete' pagamento.pk %}" class="btn btn-danger btn-sm">Excluir</a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="7" class="text-center">Nenhum pagamento cadastrado.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
